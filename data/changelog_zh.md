# 更新报告 / Changelog

这里记录 GPE 实验室应用的版本更新内容。

---

## 未发布 / Unreleased

### 改进
- **🌡️ VFT 拟合更稳健**：lnA/B/T0 边界改为数据驱动并更宽松，修复高阻/低温或单位变化导致的拟合报错
- **📉 apparent_ea_vft 物理修正**：在 T⁻¹ / T⁻⁰·⁵ 前因子下补上 -RT / -0.5RT 项，消除室温附近 5–10% 系统偏差
- **🧩 SciPy 延迟导入**：VFT 拟合按需导入 SciPy；缺失或坏安装返回清晰错误信息，不再在导入时崩溃
- **📊 统计与温度提示**：R²/AIC/BIC 极端情况做保护处理；auto 温度在 150–250 区间提示用户明确单位

## 2026-02-03 v0.1.4

### 修复
- **🧪 LSV / CV 输入方向修正**：按氧化/还原分别选择包含全局最大/最小电位的单调段，避免前/后向段选错
- **📉 LSV 切线法更稳健**：切线起始点改为早期上升段的稳健选择，避免全局最大导数点导致的高估（适配电流 creep / 指数上升）

## 2026-01-31 v0.1.3

### 改进
- **🪟 智能窗分析更严谨**：
  - 新增 CA-光学自动对齐（估计触发延迟）
  - t90 改为平台法：用首/末段中位数定义 T₀/T∞，未达稳态会提示
  - CE 仅对着色段计算，避免整周期净电荷接近零导致 CE 发散
  - 自动分割色→漂全周期，确保 CE 使用正确的着色段电荷
  - 默认关闭危险的电流基线线性校正（可选 offset_tail 模式）

### 技术更新
- SciPy 可选；若未安装，平滑改用移动平均，峰检测改用 NumPy 实现
- 所有函数返回 QC 元数据（`qc_pass`, `warnings`, `reached_plateau`, `plateau_quality` 等）
- `align_ca_transmittance` 新增 `lag_mode` 参数支持自动/手动延迟校正
- `compute_response_time` 返回平台质量指标，支持验证是否达稳态
- `classify_step` 新函数：根据 ΔOD 判断着色/漂白段

---


## 2026-01-31 v0.1.2

### 改进
- **🌡️ 温度拟合更严谨**：
  - 自动识别摄氏度 vs 开尔文，避免 Ea 计算错误
  - VFT 改为 ln(σ) 拟合，低温点不再被忽略
  - 模型比较改用 AICc/BIC，不再盲目推荐 VFT
  - 新增 VFT 预因子选项（标准 / T⁻¹ / T⁻⁰·⁵）
  - 返回 QC 标志与警告，帮助判断数据质量

### 技术更新
- VFT 拟合需要 SciPy；若未安装，返回清晰错误提示
- Arrhenius 拟合仍为纯 NumPy 实现，Streamlit Cloud 可用
- 输入数据自动清洗：去除非有限值、合并重复温度点

---

## 2026-01-31 v0.1.1

### 新增功能
- **📋 更新报告**：新增更新报告页面，方便查看版本更新历史
- 支持 Markdown 格式记录更新内容

### 改进
- 完善国际化支持（中英文切换）

---

## 2026-01-30 v0.1.0

### 初始版本

#### 模块 A：GPE 电化学计算器
- **📊 数据导入**：支持 CSV/TXT/DAT 文件上传与列映射
- **⚡ EIS 电导率**：从阻抗谱提取 Rb 并计算离子电导率 σ
- **🌡️ 温度拟合**：Arrhenius 和 VFT 模型拟合
- **🔋 迁移数**：Bruce-Vincent 方法计算 tLi⁺
- **📈 稳定窗口**：LSV 起始电位检测

#### 模块 B：智能窗分析
- **🪟 智能窗**：ΔT、响应时间、着色效率（CE）分析

#### 模块 C：实验室数据库
- **🗃️ 实验室数据库**：配方、批次、样品管理
- **📉 数据分析**：趋势分析功能
- **📝 报告**：导出 JSON/Markdown 报告

### 技术特性
- Cloud-ready：支持 Streamlit Cloud 部署
- 国际化：中英文双语支持
- 数据追溯：SHA256 文件哈希 + 版本记录
